{"version":3,"sources":["app.js"],"names":["location_input","document","querySelector","submit","verify","element","event","addEventListener","e","key","url","value","fetch","method","then","result","json","resultat","error","innerHTML","longitude","lon","latitude","lat","data","FormData","append","body","results","temp","Math","round","hourly","setTime","temperature","rain","precipProbability","genre_male","j","clothes","genre_female","displayData","displayHourly","catch","console","log","message","pluie","weatherData","querySelectorAll","weatherDate","weatherHeure","weatherDay","weatherImg","compass","precedent","suivant","search","month","day","set_clothes","array_clothes","time","Date","getTime","limit","base","async","getSession","res","adresse","ville","link","reponse","getInitialData","getLocation","onreadystatechange","readyState","navigator","geolocation","getCurrentPosition","position","style","display","coords","retourReponse","address","city","town","village","i","length","classList","add","remove","chartTemp0","chartTemp3","chartTemp6","chartTemp9","chartTemp12","chartTemp15","chartTemp18","chartTemp21","chartTemp23","allChartTemp","maxTemp","max","apply","minTemp","min","maxAxisTemp","minAxisTemp","chartPrecip0","chartPrecip3","chartPrecip6","chartPrecip9","chartPrecip12","chartPrecip15","chartPrecip18","chartPrecip21","chartPrecip23","Chart","getElementById","type","labels","datasets","radius","yAxisID","label","borderColor","backgroundColor","fill","options","legend","title","text","scales","yAxes","ticks","fontColor","callback","index","values","id","gridLines","drawOnChartArea","moon","daily","moonPhase","riseHour","riseMinute","setHour","setMinute","currentDate","currently","set","sunsetTime","rise","sunriseTime","getHours","getMinutes","getDay","getDate","getMonth","getFullYear","summary","src","icon","pressure","windSpeed","humidity","uvIndex","visibility","transform","windBearing","getPreviousDay","getNextDay","connexionLogin","loginLogin","passLogin","messageLogin","avatar_m1","avatar_m2","avatar_m3","avatar_m4","avatar_f1","avatar_f2","avatar_f3","avatar_f4","array_avatar","array_skin","skin1","skin2","skin3","skin4","sidebarButton","dismiss","sidebar","overlay","toggle","validerRegister","mailRegister","passRegister","prenomRegister","adresseRegister","villeRegister","verifyRegister","setTimeout","window","location","replace","route","road"],"mappings":"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","file":"app.js","sourcesContent":["const location_input = document.querySelector(\"#search\");\nconst submit = document.querySelector(\"#adress\");\n\nfunction verify(element, event) {\n    element.addEventListener(event, (e) => {\n        if (e.key === \"Enter\" || event === \"click\") {\n\n            let city = location_input.value;\n            let url = `https://nominatim.openstreetmap.org/search?format=json&city=${city}`;\n\n            fetch(url, {\n                    method: \"POST\"\n                })\n                .then((result) => {\n                    return result.json()\n                })\n                .then((resultat) => {\n                    if (!resultat.error) {\n\n                        // result = resultat;\n                        longitude = resultat[0].lon;\n                        latitude = resultat[0].lat;\n\n                        let data = new FormData();\n\n                        data.append(\"latitude\", latitude);\n                        data.append(\"longitude\", longitude);\n\n                        fetch(\"/weather/get\", {\n                                method: \"POST\",\n                                body: data\n                            })\n                            .then((results) => {\n                                return results.json()\n                            })\n                            .then((results) => {\n                                if (!results.error) {\n                                    temp = Math.round(results.hourly.data[setTime.value].temperature);\n                                    rain = results.hourly.data[setTime.value].precipProbability;\n                                    genre_male.addEventListener(\"click\", (e) => {\n                                        j = 0;\n                                        clothes(temp, rain, j);\n                                    })\n                                    genre_female.addEventListener(\"click\", (e) => {\n                                        j = 4;\n                                        clothes(temp, rain, j);\n                                    })\n                                    j = 0;\n                                    clothes(temp, rain, j);\n\n                                    result = results;\n                                    displayData(results);\n                                    displayHourly();\n                                } else {\n                                    document.querySelector(\"#error\").innerHTML = results.error;\n                                }\n                            }).catch((error) => {\n                                console.log(error);\n                            });\n\n                    } else {\n                        document.querySelector(\"#error\").innerHTML = result.error;\n                    }\n                }).catch((error) => {\n                    console.log(error);\n                });\n        }\n    })\n}\n\nverify(submit, \"click\");\nverify(location_input, \"keydown\");\nconst message = document.querySelector(\"#message\");\nconst temperature = document.querySelector(\"#tempData\");\nconst pluie = document.querySelector(\"#tempRain\");\nconst weatherData = document.querySelectorAll(\".data\");\nconst weatherDate = document.querySelector(\"#weather-date\");\nconst setTime = document.querySelector(\"#setTime\");\nconst weatherHeure = document.querySelector(\"#weather-heure\");\nconst weatherDay = document.querySelector(\"#weather-day\");\nconst weatherImg = document.querySelector(\"#weather-img\");\nconst compass = document.querySelector(\"#compass\");\nconst precedent = document.querySelector(\"#precedent\");\nconst suivant = document.querySelector(\"#suivant\");\nconst search = document.querySelector(\"#search\");\nconst month = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'];\nconst day = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'];\n\nconst set_clothes = document.querySelectorAll(\"#clothes\");\nconst array_clothes = document.querySelectorAll(\".img-clothes\");\n\nlet time = new Date();\ntime = time.getTime();\ntime = Math.round(time/1000);\nlet limit = time + (86400*6);\nlet base = time;\nvar latitude = 48.866667;\nvar longitude = 2.333333;\nvar result, temp, rain;\n\nasync function getSession() {\n    const res = await fetch('/weather/session', {method: \"POST\"});\n    const json = await res.json();\n    \n    if(json) {\n        let adresse = json.adresse;\n        let ville = json.ville;\n        let link = \"https://nominatim.openstreetmap.org/search?format=json&q=\";\n        async function getLocation() {\n            const result = await fetch(link + adresse + \",\" + ville, {method: \"GET\"});\n            const reponse = await result.json();\n            console.log(reponse[0].lat);\n            console.log(reponse[0].lon);\n            latitude = reponse[0].lat;\n            longitude = reponse[0].lon;\n            getInitialData();\n\n        }\n        getLocation();\n        console.log(json);\n    } else {\n\n    \n    // document.getElementById(\"sidebar\").innerHTML = json.menu;\n\n\n\n\n\n    getInitialData();\n\n    document.onreadystatechange = function () {\n        if (document.readyState === \"complete\") {\n\n            if (navigator.geolocation) { /*demander l'autorisation d'obtenir la géolocalisation*/\n                navigator.geolocation.getCurrentPosition(function (position) {\n\n                    time = new Date();\n                    time = time.getTime();\n                    time = Math.round(time/1000);\n                    limit = time + (86400*6);\n                    base = time;\n\n                    precedent.style.display = \"none\";\n\n                    latitude = position.coords.latitude;\n                    longitude = position.coords.longitude;\n\n                    let data = new FormData();\n\n                    data.append(\"latitude\", latitude);\n                    data.append(\"longitude\", longitude);\n\n                    fetch(\"/weather/get\", {method: \"POST\", body: data})\n                    .then((retourReponse) => {\n                        return retourReponse.json();\n                    })\n                    .then((retourReponse) => {\n\n                        result = retourReponse;\n\n                        displayData(retourReponse);\n\n                        temp = Math.round(retourReponse.hourly.data[setTime.value].temperature);\n                        rain = retourReponse.hourly.data[setTime.value].precipProbability;\n                        \n                        j = 0 ;\n                        clothes(temp, rain, j);\n\n                        let lat = retourReponse.latitude;\n                        let lon = retourReponse.longitude;\n                        let url = `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lon}`;\n                        \n                        fetch(url, {method: \"POST\"})\n                        .then( (result) => { return result.json() })\n                        .then( (result) => {\n                            if(!result.error){\n                                let ville;\n\n                                if(typeof result.address.city !== 'undefined'){\n                                    ville = result.address.city;\n\n                                } else if(typeof result.address.city === 'undefined' && typeof result.address.town !== 'undefined' ) {\n                                    ville = result.address.town\n\n                                } else {\n                                    ville = result.address.village;\n                                }  \n                                document.querySelector(\"#search\").value = ville;\n                            }\n                        }).catch((error) => {\n                            console.log(error);\n                        });\n                    }).catch((error) => {\n                        console.log(error);\n                    });\n                })\n            }\n        } else {\n        }\n    }\n\n}\n}\n\ngetSession();\n\nfunction clothes(temp, rain, j){\n                            \n    if(temp >= 4 && rain < 0.15){\n        for (let i = 0; i < array_clothes.length; i++) {\n            array_clothes[i].classList.add(\"invisible\");\n        }\n    set_clothes[j+0].classList.remove(\"invisible\");\n    \n    }else if(temp >= 4 && rain > 0.15){\n        for (let i = 0; i < array_clothes.length; i++) {\n            array_clothes[i].classList.add(\"invisible\");\n        }\n        set_clothes[j+1].classList.remove(\"invisible\");\n\n    }else if(temp < 4 && rain < 0.15){\n        for (let i = 0; i < array_clothes.length; i++) {\n            array_clothes[i].classList.add(\"invisible\");\n        }\n        set_clothes[j+2].classList.remove(\"invisible\");\n        \n    }else if(temp < 4 && rain > 0.15){\n        for (let i = 0; i < array_clothes.length; i++) {\n            array_clothes[i].classList.add(\"invisible\");\n        }\n        set_clothes[j+3].classList.remove(\"invisible\");\n    }\n}\n\nfunction displayData(retourReponse) {\n    let chartTemp0 = Math.round(retourReponse.hourly.data[0].temperature);\n    let chartTemp3 = Math.round(retourReponse.hourly.data[3].temperature);\n    let chartTemp6 = Math.round(retourReponse.hourly.data[6].temperature);\n    let chartTemp9 = Math.round(retourReponse.hourly.data[9].temperature);\n    let chartTemp12 = Math.round(retourReponse.hourly.data[12].temperature);\n    let chartTemp15 = Math.round(retourReponse.hourly.data[15].temperature);\n    let chartTemp18 = Math.round(retourReponse.hourly.data[18].temperature);\n    let chartTemp21 = Math.round(retourReponse.hourly.data[21].temperature);\n    let chartTemp23 = Math.round(retourReponse.hourly.data[23].temperature);\n\n    let allChartTemp = [chartTemp0, chartTemp3, chartTemp6, chartTemp9, chartTemp12, chartTemp15, chartTemp18, chartTemp21, chartTemp23];\n\n    let maxTemp = Math.max.apply(null, allChartTemp);\n    let minTemp = Math.min.apply(null, allChartTemp);\n\n    let maxAxisTemp = maxTemp > 20 ? maxTemp+2 : 20;\n    let minAxisTemp = minTemp < 0 ? minTemp-2 : 0;\n    \n    let chartPrecip0 = Math.round(retourReponse.hourly.data[0].precipProbability * 100);\n    let chartPrecip3 = Math.round(retourReponse.hourly.data[3].precipProbability * 100);\n    let chartPrecip6 = Math.round(retourReponse.hourly.data[6].precipProbability * 100);\n    let chartPrecip9 = Math.round(retourReponse.hourly.data[9].precipProbability * 100);\n    let chartPrecip12 = Math.round(retourReponse.hourly.data[12].precipProbability * 100);\n    let chartPrecip15 = Math.round(retourReponse.hourly.data[15].precipProbability * 100);\n    let chartPrecip18 = Math.round(retourReponse.hourly.data[18].precipProbability * 100);\n    let chartPrecip21 = Math.round(retourReponse.hourly.data[21].precipProbability * 100);\n    let chartPrecip23 = Math.round(retourReponse.hourly.data[23].precipProbability * 100);\n\n\n\n    new Chart(document.getElementById(\"summaryChart\"), {\n        type: 'line',\n        data: {\n          labels: ['00:00', '03:00', '06:00', '09:00', '12:00', '15:00', '18:00', '21:00', '24:00'],\n          datasets: [{ \n              radius: 0,\n              data: [chartTemp0, chartTemp3, chartTemp6, chartTemp9, chartTemp12, chartTemp15, chartTemp18, chartTemp21, chartTemp23],\n              yAxisID: 'temperature',\n              label: \"Température\",\n              borderColor: \"#980000\",\n              backgroundColor: \"rgba(152, 0, 0, 0.4)\",\n              fill: true\n            }, { \n                radius: 0,\n              data: [chartPrecip0, chartPrecip3, chartPrecip6, chartPrecip9, chartPrecip12, chartPrecip15, chartPrecip18, chartPrecip21, chartPrecip23],\n              yAxisID: 'rain',\n              label: \"Précipitation\",\n              borderColor: \"#030340\",\n              backgroundColor: \"rgba(3, 3, 54, 0.4)\",\n              fill: true\n            }\n          ]\n        },\n        options: {\n            legend:{\n                display: false\n            },\n            title: {\n                display: false,\n                text: 'Températures et précipitations'\n            },\n            scales: {\n                yAxes: [{\n                    type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n                    display: true,\n                    ticks: {\n                        fontColor: \"#980000\",\n                        min : minAxisTemp,\n                        max: maxAxisTemp,\n                        callback: function(value, index, values) {\n                            return value + '°C';\n                        }\n                    },\n                    position: 'left',\n                    id: 'temperature',\n                }, {\n                    type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n                    display: true,\n                    position: 'right',\n                    id: 'rain',\n                    ticks: {\n                        fontColor: \"#030340\",\n                        min: 0,\n                        max: 100,\n                        callback: function(value, index, values) {\n                            return value +'%';\n                        }\n                    },\n    \n                    // grid line settings\n                    gridLines: {\n                        drawOnChartArea: false, // only want the grid lines for one axis to show up\n                    },\n                }],\n            }\n        }\n      });\n      \n\n\n    let phase = (Math.round(retourReponse.daily.data[0].moonPhase * 8) / 8);\n    let moon = \"\";\n\n    switch (phase) {\n        case 0:\n        case 1:\n            moon = \"Nouvelle lune\";\n            break;\n        case 0.125: \n        case 0.875:\n            moon = \"Croissant\";                            \n            break;\n        case 0.25:\n        case 0.375:\n        case 0.625: \n        case 0.75:\n            moon = \"Demi lune\";                                                        \n            break;\n        case 0.5:\n            moon = \"Pleine lune\";                                               \n            break;\n    }\n\n\n    let currentDate = new Date(retourReponse.currently.time * 1000);\n\n    let set = new Date(retourReponse.daily.data[0].sunsetTime * 1000);\n    let rise = new Date(retourReponse.daily.data[0].sunriseTime * 1000);\n    let riseHour, riseMinute, setHour, setMinute;\n\n    rise.getHours() < 10 ? riseHour = \"0\" + rise.getHours() : riseHour = rise.getHours();\n    rise.getMinutes() < 10 ? riseMinute = \"0\" + rise.getMinutes() : riseMinute = rise.getMinutes();\n\n    set.getHours() < 10 ? setHour = \"0\" + set.getHours() : setHour = set.getHours();\n    set.getMinutes() < 10 ? setMinute = \"0\" + set.getMinutes() : setMinute = set.getMinutes();\n    \n    weatherDay.innerHTML = day[currentDate.getDay()];\n    weatherDate.innerHTML = currentDate.getDate() + \" \" + month[currentDate.getMonth()] + \" \" + currentDate.getFullYear();\n    message.innerHTML = retourReponse.currently.summary;\n    temperature.innerHTML = Math.round(retourReponse.currently.temperature) + \"°C\";\n    weatherImg.src = \"../Assets/img/weather-icons/\" + retourReponse.currently.icon + \".svg\";\n    pluie.innerHTML = Math.round(retourReponse.currently.precipProbability * 100) + \"%\";\n    weatherData[0].innerHTML = riseHour + \":\" + riseMinute;\n    weatherData[1].innerHTML = setHour + \":\" + setMinute;\n    weatherData[2].innerHTML = moon;\n    weatherData[3].innerHTML = Math.round(retourReponse.currently.pressure) + \" hPa\";\n    weatherData[4].innerHTML = Math.round(retourReponse.currently.windSpeed) + \" m/s\";\n    weatherData[5].innerHTML = Math.round(retourReponse.currently.humidity) + \"%\";\n    weatherData[6].innerHTML = Math.round(retourReponse.currently.precipProbability * 100) + \"%\";\n    weatherData[7].innerHTML = Math.round(retourReponse.currently.temperature) + \"°C\";\n    weatherData[8].innerHTML = Math.round(retourReponse.currently.uvIndex);\n    weatherData[9].innerHTML = Math.round(retourReponse.currently.visibility) + \" km\";\n   \n    setTime.value = currentDate.getHours();\n    weatherHeure.innerHTML = currentDate.getHours() + \":00\";\n    compass.style.transform = \"rotate(\" + retourReponse.currently.windBearing + \"deg\";\n}\n\nfunction displayHourly() {\n    message.innerHTML = result.hourly.data[setTime.value].summary;\n    temperature.innerHTML = Math.round(result.hourly.data[setTime.value].temperature) + \"°C\";\n    weatherImg.src = \"../Assets/img/weather-icons/\" + result.hourly.data[setTime.value].icon + \".svg\";\n    pluie.innerHTML = Math.round(result.hourly.data[setTime.value].precipProbability * 100) + \"%\";\n    weatherData[3].innerHTML = Math.round(result.hourly.data[setTime.value].pressure) + \" hPa\";\n    weatherData[4].innerHTML = Math.round(result.hourly.data[setTime.value].windSpeed) + \" m/s\";\n    weatherData[5].innerHTML = Math.round(result.hourly.data[setTime.value].humidity) + \"%\";\n    weatherData[6].innerHTML = Math.round(result.hourly.data[setTime.value].precipProbability * 100) + \"%\";\n    weatherData[7].innerHTML = Math.round(result.hourly.data[setTime.value].temperature) + \"°C\";\n    weatherData[8].innerHTML = Math.round(result.hourly.data[setTime.value].uvIndex);\n    weatherData[9].innerHTML = Math.round(result.hourly.data[setTime.value].visibility) + \" km\";\n    weatherHeure.innerHTML = setTime.value + \":00\";\n    compass.style.transform = \"rotate(\" + result.hourly.data[setTime.value].windBearing + \"deg\";\n\n    // Changement vêtements\n    let temp = Math.round(result.hourly.data[setTime.value].temperature);\n    let rain = result.hourly.data[setTime.value].precipProbability;\n\n    genre_male.addEventListener(\"click\", (e) => {\n        j = 0;\n        clothes(temp, rain, j);\n    })\n    genre_female.addEventListener(\"click\", (e) => {\n        j = 4;\n        clothes(temp, rain, j);\n    })\n\n    clothes(temp, rain, j);\n}\n\nfunction getPreviousDay() {\n\n    let data = new FormData();\n    time -= 86400;\n\n\n    time === base ? precedent.style.display = \"none\" : precedent.style.display = \"block\";\n    time === limit ? suivant.style.display = \"none\" : suivant.style.display = \"block\";\n\n    if(time === base) {\n        precedent.style.display = \"none\";\n    } else {\n        precedent.style.display = \"block\";\n    }\n\n    data.append(\"latitude\", latitude);\n    data.append(\"longitude\", longitude);\n    data.append(\"time\", time);\n\n    fetch(\"/weather/get\", {method: \"POST\", body: data})\n    .then((retourReponse) => {\n        return retourReponse.json();\n    })\n    .then((retourReponse) => {\n\n        result = retourReponse;\n\n        displayData(retourReponse);\n        displayHourly(retourReponse);\n\n        // Changement vêtements\n        let temp = Math.round(retourReponse.hourly.data[setTime.value].temperature);\n        let rain = retourReponse.hourly.data[setTime.value].precipProbability;\n        \n        genre_male.addEventListener(\"click\", (e) => {\n            j = 0;\n            clothes(temp, rain, j);\n        })\n        genre_female.addEventListener(\"click\", (e) => {\n            j = 4;\n            clothes(temp, rain, j);\n        })\n        clothes(temp, rain, j);\n            \n    }).catch((error) => {\n        console.log(error);\n    });\n}\n\nfunction getNextDay() {\n\n        let data = new FormData();\n        time += 86400;\n\n\n        if(time === limit) {\n            suivant.style.display = \"none\";\n        } else {\n            suivant.style.display = \"block\";\n        }\n\n        time === base ? precedent.style.display = \"none\" : precedent.style.display = \"block\";\n        time === limit ? suivant.style.display = \"none\" : suivant.style.display = \"block\";\n\n        data.append(\"latitude\", latitude);\n        data.append(\"longitude\", longitude);\n        data.append(\"time\", time);\n\n        fetch(\"/weather/get\", {method: \"POST\", body: data})\n        .then((retourReponse) => {\n            return retourReponse.json();\n        })\n        .then((retourReponse) => {\n\n            result = retourReponse;\n\n            displayData(retourReponse);\n            displayHourly(retourReponse);\n\n            // Changement vêtements\n            let temp = Math.round(retourReponse.hourly.data[setTime.value].temperature);\n            let rain = retourReponse.hourly.data[setTime.value].precipProbability;\n        \n            genre_male.addEventListener(\"click\", (e) => {\n                j = 0;\n                clothes(temp, rain, j);\n            })\n            genre_female.addEventListener(\"click\", (e) => {\n                j = 4;\n                clothes(temp, rain, j);\n            })\n            clothes(temp, rain, j);\n\n        }).catch((error) => {\n            console.log(error);\n        });\n}\n\nfunction getInitialData() {\n\n    let data = new FormData();\n\n    data.append(\"latitude\", latitude);\n    data.append(\"longitude\", longitude);\n\n    fetch(\"/weather/get\", {method: \"POST\", body: data})\n    .then((retourReponse) => {\n        return retourReponse.json();\n    })\n    .then((retourReponse) => {\n\n        result = retourReponse;\n\n        displayData(retourReponse);\n\n        temp = Math.round(retourReponse.hourly.data[setTime.value].temperature);\n        rain = retourReponse.hourly.data[setTime.value].precipProbability;\n        \n        genre_male.addEventListener(\"click\", (e) => {\n            j = 0;\n            clothes(temp, rain, j);\n        })\n        genre_female.addEventListener(\"click\", (e) => {\n            j = 4;\n            clothes(temp, rain, j);\n        })\n        j = 0 ;\n        clothes(temp, rain, j);\n\n        suivant.addEventListener('click', () => {\n            getNextDay();\n        });\n    \n        precedent.addEventListener('click', () => {\n            getPreviousDay();\n        });\n    \n        \n        setTime.addEventListener(\"change\", () => {                \n            displayHourly();\n        })\n\n        let lat = retourReponse.latitude;\n        let lon = retourReponse.longitude;\n        let url = `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lon}`;\n        \n        fetch(url, {method: \"POST\"})\n        .then( (result) => { return result.json() })\n        .then( (result) => {\n            if(!result.error){\n                let ville;\n                if(typeof result.address.city !== 'undefined'){\n                    ville = result.address.city;\n                } else if(typeof result.address.city === 'undefined' && typeof result.address.town !== 'undefined' ) {\n                    ville = result.address.town\n                } else {\n                    ville = result.address.village;\n                }  \n                document.querySelector(\"#search\").value = ville;\n            }\n        })\n        \n\n    }).catch((error) => {\n        console.log(error);\n    });\n}\n\n\nconst connexionLogin = document.querySelector(\"#connexion_login\");\nconst loginLogin = document.querySelector(\"#login_login\");\nconst passLogin = document.querySelector(\"#pass_login\");\nconst messageLogin = document.querySelector(\"#error\");\n// const search = document.querySelector(\"#search\");\n\n\nfunction verify(element, event) {\n\n    if ((element) != null) {\n\n    element.addEventListener(event, (e) => {\n\n        console.log(\"listener\");\n        if (e.key === \"Enter\" || event === \"click\") {\n\n            console.log(\"un evenement\");\n\n           \n            let data = new FormData();\n            data.append(\"login\", loginLogin.value);\n            data.append(\"pass\", passLogin.value);\n        \n            fetch(\"/login/verif\", {method: \"POST\", body: data})\n            .then( (result) => { return result.json() } )\n            .then( (result) => {\n                // console.log(result.error);\n                if(!result.error){\n                    // console.log(result);\n                    // messageLogin.innerHTML = 'Bonjour ' + result.infos.prenom;\n                    // search.value = result.infos.adresse + ' ' + result.infos.ville;\n                    // console.log(result.infos.sexe);\n                    // window.location.replace(\"/weather\");\n                    console.log(result);\n                    console.log(result.adresse)\n                    console.log(result.ville)\n                    document.querySelector(\"#error\").innerHTML = 'Connexion réussie';\n                    // location.reload();\n\n                } else {\n                    document.querySelector(\"#error\").innerHTML = result.error;\n                }\n            });\n        }\n    })\n}\n}\n\n\nverify(connexionLogin, \"click\");\nverify(loginLogin, \"keydown\");\nverify(passLogin, \"keydown\");\nconst genre_male = document.querySelector(\"#maleButton\");\nconst genre_female = document.querySelector(\"#femaleButton\");\n\nconst avatar_m1 = document.querySelector(\"#avatar_m1\");\nconst avatar_m2 = document.querySelector(\"#avatar_m2\");\nconst avatar_m3 = document.querySelector(\"#avatar_m3\");\nconst avatar_m4 = document.querySelector(\"#avatar_m4\");\nconst avatar_f1 = document.querySelector(\"#avatar_f1\");\nconst avatar_f2 = document.querySelector(\"#avatar_f2\");\nconst avatar_f3 = document.querySelector(\"#avatar_f3\");\nconst avatar_f4 = document.querySelector(\"#avatar_f4\");\n\nconst array_avatar = document.querySelectorAll(\".img-avatar\");\nconst array_skin = document.querySelectorAll(\".skinButton\");\n\nconst skin1 = document.querySelector(\"#skin1\");\nconst skin2 = document.querySelector(\"#skin2\");\nconst skin3 = document.querySelector(\"#skin3\");\nconst skin4 = document.querySelector(\"#skin4\");\n\navatar_m1.classList.remove(\"invisible\");\ngenre_male.classList.add(\"genre\");\ngenre_female.classList.remove(\"genre\");\nfor (let i = 1; i < array_avatar.length; i++) {\n    array_avatar[i].classList.add(\"invisible\");\n}\n\nfor (let j = 0; j < array_skin.length; j++) {\n    array_skin[j].addEventListener(\"click\", (e) => {\n        for (let i = 0; i < array_avatar.length; i++) {\n            array_avatar[i].classList.add(\"invisible\");\n        }\n        array_avatar[j].classList.remove(\"invisible\");\n    })\n}\n\ngenre_male.addEventListener(\"click\", (e) => {\n    avatar_m1.classList.remove(\"invisible\");\n    genre_male.classList.add(\"genre\");\n    genre_female.classList.remove(\"genre\");\n    for (let i = 1; i < array_avatar.length; i++) {\n        array_avatar[i].classList.add(\"invisible\");\n    }\n\n    for (let j = 0; j < array_skin.length; j++) {\n        array_skin[j].addEventListener(\"click\", (e) => {\n            for (let i = 0; i < array_avatar.length; i++) {\n                array_avatar[i].classList.add(\"invisible\");\n            }\n            array_avatar[j].classList.remove(\"invisible\");\n        })\n    }\n})\n\ngenre_female.addEventListener(\"click\", (e) => {\n    \n    for (let i = 0; i < array_avatar.length; i++) {\n        array_avatar[i].classList.add(\"invisible\");\n    }\n    avatar_f1.classList.remove(\"invisible\");\n\n    genre_female.classList.add(\"genre\");\n    genre_male.classList.remove(\"genre\");\n    for (let j = 0; j < array_skin.length; j++) {\n        array_skin[j].addEventListener(\"click\", (e) => {\n            for (let i = 0; i < array_avatar.length; i++) {\n                array_avatar[i].classList.add(\"invisible\");\n            }\n            array_avatar[j+4].classList.remove(\"invisible\");\n        })\n    }\n})\nnew Chart(document.getElementById(\"summaryChart\"), {\n    type: 'line',\n    data: {\n      labels: ['00:00', '06:00', '12:00', '18:00', '23:00'],\n      datasets: [{ \n          data: [1, 3, 8, 5, 2],\n          yAxisID: 'temperature',\n          label: \"Température\",\n          borderColor: \"#980000\",\n          fill: true\n        }, { \n          data: [0, 2, 5, 10, 3],\n          yAxisID: 'rain',\n          label: \"Précipitation\",\n          borderColor: \"#030340\",\n          fill: true\n        }\n      ]\n    },\n    options: {\n        legend:{\n            display: false\n        },\n        title: {\n            display: false,\n            text: 'World population per region (in millions)'\n        },\n        scales: {\n            yAxes: [{\n                type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n                display: true,\n                position: 'left',\n                id: 'temperature',\n            }, {\n                type: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n                display: true,\n                position: 'right',\n                id: 'rain',\n                ticks: {\n                    min: 0,\n                    max: 100\n                },\n\n                // grid line settings\n                gridLines: {\n                    drawOnChartArea: false, // only want the grid lines for one axis to show up\n                },\n            }],\n        }\n    }\n  });\n  \nconst sidebarButton = document.querySelector('#sidebarCollapse');\nconst dismiss = document.querySelector('#dismiss');\nconst sidebar = document.querySelector('#sidebar');\nconst overlay = document.querySelector('#overlay');\n\ndocument.addEventListener(\"DOMContentLoaded\",function(){\n\n    sidebarButton.addEventListener('click', (e)=>{\n        sidebar.classList.toggle('active');\n        overlay.classList.toggle('active');\n    })\n\n    dismiss.addEventListener('click', (e)=>{\n        sidebar.classList.toggle('active');\n        overlay.classList.toggle('active');\n    })\n});\nconst validerRegister = document.querySelector(\"#valider-register\");\nconst mailRegister = document.querySelector(\"#mail-register\");\nconst passRegister = document.querySelector(\"#pass-register\");\nconst prenomRegister = document.querySelector(\"#prenom-register\");\nconst adresseRegister = document.querySelector(\"#adresse-register\");\nconst villeRegister = document.querySelector(\"#ville-register\");\n\n\n\ndocument.onreadystatechange = function () {\n    if (document.readyState === \"complete\") {\n        if (navigator.geolocation) { /*demander l'autorisation d'obtenir la géolocalisation*/\n            navigator.geolocation.getCurrentPosition(function (position) {\n\n                let latitude = position.coords.latitude;\n                let longitude = position.coords.longitude;\n                let link = \"https://nominatim.openstreetmap.org/reverse?format=json&lat=\" + latitude + \"&lon=\" + longitude;\n\n                fetch(link, {method: \"POST\"})\n                .then( (result) => { return result.json() } )\n                .then( (result) => {\n                    \n                    \n                    let ville;\n                    \n                    if(typeof result.address.city !== 'undefined'){\n                        ville = result.address.city;\n                    } else if(typeof result.address.city === 'undefined' && typeof result.address.town !== 'undefined' ) {\n                        ville = result.address.town\n                    } else {\n                        ville = result.address.village;\n                    }\n                    \n                let route = result.address.road;\n                \n                adresseRegister.value = route;\n                villeRegister.value = ville;\n\n                });\n\n            })\n        }\n    }\n}\n\n\nfunction verifyRegister(element, event) {\n\n    element.addEventListener(event, (e) => {\n\n        if (e.key === \"Enter\" || event === \"click\") {\n            let data = new FormData();\n            data.append(\"mail\", mailRegister.value);\n            data.append(\"pass\", passRegister.value);\n            data.append(\"prenom\", prenomRegister.value);\n            data.append(\"adresse\", adresseRegister.value);\n            data.append(\"ville\", villeRegister.value);\n        \n            fetch(\"/register/verif\", {method: \"POST\", body: data})\n            .then( (result) => { return result.json() } )\n            .then( (result) => {\n                console.log(result);\n                if(!result.message){\n                    document.querySelector(\".message\").innerHTML = \"Inscription réussie, vous allez être redirigé.\";\n                    setTimeout(function(){\n                        window.location.replace(\"/weather\");\n                    }, 3000);\n                } else {\n                    document.querySelector(\".message\").innerHTML = \"\";\n                    for (let i = 0; i < result.message.length; i++) {\n                        document.querySelector(\".message\").innerHTML += result.message[i] + '</br>';\n                    }\n                }\n                }\n            );\n        }\n    })\n}\n\nverifyRegister(validerRegister, \"click\");\nverifyRegister(mailRegister, \"keydown\");\nverifyRegister(passRegister, \"keydown\");\nverifyRegister(prenomRegister, \"keydown\");\nverifyRegister(adresseRegister, \"keydown\");\nverifyRegister(villeRegister, \"keydown\");"]}